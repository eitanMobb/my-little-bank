@model List<MyLittleBank.Models.Account>

@{
    ViewData["Title"] = "Transfer Money";
}

<div class="row">
    <div class="col-12">
        <h2>Transfer Money</h2>
        <p class="text-muted">Transfer funds between your accounts</p>
    </div>
</div>

@if (ViewBag.SuccessMessage != null)
{
    <div class="alert alert-success" role="alert">
        @ViewBag.SuccessMessage
    </div>
}

@if (ViewBag.ErrorMessage != null)
{
    <div class="alert alert-danger" role="alert">
        @ViewBag.ErrorMessage
    </div>
}

<div class="row">
    <div class="col-md-8">
        <div class="card">
            <div class="card-header">
                <h5>Transfer Form</h5>
            </div>
            <div class="card-body">
                <form asp-action="Transfer" method="post">
                    <div class="mb-3">
                        <label for="FromAccount" class="form-label">From Account</label>
                        <select class="form-select" id="FromAccount" name="FromAccount" required>
                            <option value="">Select an account</option>
                            @foreach (var account in Model)
                            {
                                <option value="@account.AccountNumber">@account.AccountType - @account.AccountNumber ($@account.Balance.ToString("F2"))</option>
                            }
                        </select>
                    </div>
                    <div class="mb-3">
                        <label for="ToAccount" class="form-label">To Account</label>
                        <input type="text" class="form-control" id="ToAccount" name="ToAccount" placeholder="Enter account number" required>
                        <div class="form-text">Enter the destination account number</div>
                    </div>
                    <div class="mb-3">
                        <label for="Amount" class="form-label">Amount</label>
                        <div class="input-group">
                            <span class="input-group-text">$</span>
                            <input type="number" class="form-control" id="Amount" name="Amount" step="0.01" min="0.01" required>
                        </div>
                    </div>
                    <div class="mb-3">
                        <label for="Description" class="form-label">Description (Optional)</label>
                        <input type="text" class="form-control" id="Description" name="Description" placeholder="Transfer description">
                    </div>
                    <div class="d-grid">
                        <button type="submit" class="btn btn-primary">Transfer Money</button>
                    </div>
                </form>
            </div>
        </div>
    </div>
    <div class="col-md-4">
        <div class="card">
            <div class="card-header">
                <h5>Your Accounts</h5>
            </div>
            <div class="card-body">
                @foreach (var account in Model)
                {
                    <div class="mb-3 p-3 border rounded @(account.AccountType == "Checking" ? "border-primary" : "border-success")">
                        <h6 class="mb-1">@account.AccountType</h6>
                        <p class="mb-1 text-muted">@account.AccountNumber</p>
                        <h5 class="mb-0 text-primary">$@account.Balance.ToString("F2")</h5>
                    </div>
                }
            </div>
        </div>
    </div>
</div>

